# 1. Как работает атрибут `type` у тега `<script>`?

- Атрибут `type` указывает тип скрипта, который будет выполняться. По умолчанию используется `text/javascript`, но этот атрибут может принимать и другие значения.
- Основные значения:
  - `type="text/javascript"` — используется по умолчанию для обычного JavaScript.
  - `type="module"` — используется для ES-модулей, позволяя импортировать и экспортировать код между файлами.
- Когда используется `type="module"`, скрипты выполняются с задержкой (аналогично `defer`), и импортируемые файлы загружаются асинхронно.

```html
<script type="module">
  import { myFunction } from "./myModule.js";
  myFunction();
</script>
```

# 2. Как работает атрибут `async` и `defer`?

## 1. Обычное подключение (без `async` и `defer`)

При обычном подключении без атрибутов, скрипт загружается и выполняется синхронно, что означает приостановку обработки HTML до завершения выполнения скрипта.

- **Влияние на жизненный цикл**:
  - Событие `DOMContentLoaded` сработает **после** выполнения скрипта.
  - Событие `load` произойдёт после загрузки всех ресурсов, включая скрипт.

**Пример**:

```html
<script src="main.js"></script>
```

## 2. Асинхронное выполнение (`async`)

Скрипты с атрибутом `async` загружаются параллельно с разбором HTML и выполняются сразу после завершения загрузки скрипта, независимо от того, завершён ли парсинг HTML-документа. Это может привести к выполнению скрипта до полной загрузки DOM.

- **Влияние на жизненный цикл**:
  - Скрипт может выполниться до или после `DOMContentLoaded`, в зависимости от времени его загрузки.
  - Событие `load` сработает **после** загрузки **всех** внешних ресурсов и **асинхронных** скриптов.

**Пример**:

```html
<script src="analytics.js" async></script>
```

## 3. Отложенное выполнение (defer)

Скрипты с атрибутом `defer` загружаются параллельно с HTML, но выполняются только после того, как весь HTML-документ будет разобран. Это делает их идеальными для скриптов, которые взаимодействуют с DOM, так как DOM будет полностью загружен до выполнения скрипта.

- **Влияние на жизненный цикл**:
  - Событие `DOMContentLoaded` произойдёт до или одновременно с выполнением скриптов с defer.
  - Событие `load` произойдёт после выполнения всех скриптов с `defer`.

```html
<script src="analytics.js" async></script>
```

| Способ подключения    | Взаимодействие с событиями жизненного цикла страницы                           |
| --------------------- | ------------------------------------------------------------------------------ |
| Без `async` и `defer` | Скрипт выполняется **до** `DOMContentLoaded`, блокируя парсинг                 |
| `async`               | Скрипт может выполниться **до или после** `DOMContentLoaded`, но **до** `load` |
| `defer`               | Скрипт выполняется **после** `DOMContentLoaded`, но **до** `load`              |

# 3. Что произойдет, если разместить тег <script> в <head> без `async` или `defer`?

Если разместить <script> без атрибутов `async` или `defer` в <head>, загрузка и выполнение скрипта заблокируют парсинг HTML.

Браузер приостановит обработку HTML до завершения загрузки и выполнения скрипта, что может замедлить отображение страницы для пользователя.

```html
<head>
  <script src="main.js"></script>
</head>
```

# 4. Что такое модульный JavaScript? Как работают ES-модули?

Модульный JavaScript — это способ разделения кода на модули с помощью `import` и `export`, что позволяет избежать глобального загрязнения области видимости и улучшает управление зависимостями.

Скрипты с атрибутом `type="module"` выполняются в строгом режиме, и они поддерживают асинхронный импорт других модулей.

```html
<script type="module">
  import { myFunction } from "./module.js";
  myFunction();
</script>
```

# 5. Что такое атрибуты crossorigin и как они работают в <script>?

Атрибут `crossorigin` используется для загрузки ресурсов из других доменов с контролем кросс-оригинной политики.

Значения:

- `anonymous`: браузер не посылает куки, аутентификацию или другие данные.
- `use-credentials`: браузер отправляет куки и другие данные для аутентификации.

```html
<script src="https://example.com/script.js" crossorigin="anonymous"></script>
```
